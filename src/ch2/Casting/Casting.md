# 5. 형변환 

## 5.5 정수형과 실수형 간의 형변

정수형과 실수형은 데이터를 저장하는 형식이 다르기 때문에 정수 간 형변환처럼 단순히 값을 채우고 자르는 식으로 할 수 없다.


### 정수형을 실수형으로 변환 

정수를 2진수로 변환하고 정규화를 거쳐 실수의 저장형식으로 저장된다.

실수형은 정수형보다 더 큰 저장범위를 갖기 때문에 큰 무리가 없다.

하지만, 실수형의 정밀도로 오차가 발생할 수 있다.

`float` 의 경우 정수 7자리까지의 정밀도를 제공하기 때문에 7자리가 넘어가면 오차가 발생한다. 이 경우, `double` 을 사용해서 형변환을 해야한다.

### 실수형을 정수형으로 변환

소수점 이하의 수를 버리면 된다. 

반올림이 아니라 버림이라는 것을 명심해야한다.

## 5.6 자동 형변환

편의상의 이유로 컴파일러가 자동으로 형변환을 할 수 있도록 생랼할 수 있다.

### 자동 형변환의 규칙

기존의 값을 최대한 보존할 수 있는 타입으로 자동 형변환된다.

```tex
byte -> short -> int -> long -> float -> double
				char ->
```

- 정수형 `long`은 `float` 보다 크기는 크지만 데이터를 표현할 수 있는 범위가 작기 때문에 `float`로 자동 변환된다.
- `char`, `short` 는 2byte 로 동일하지만 두 값이 표현하는 범위가 서로 다르기 때문에 자동 형변환을 할 수 없다.
  - 각각 `int`로 자동 형변환이 된다.
- 더 작은 데이터 유형으로 형변환을 할 때는 개발자가 명시적으로 형변환을 하는 케이스로 간주하며 형변환을 수동으로 수행해야한다.